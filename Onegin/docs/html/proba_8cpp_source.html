<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Onegin sort: proba.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Onegin sort
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('proba_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">proba.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="proba_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Onegin_8h.html">Onegin.h</a>&quot;</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="testing_8h.html">testing.h</a>&quot;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;typeinfo&gt;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;assert.h&gt;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;math.h&gt;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;unistd.h&gt;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160; </div>
<div class="line"><a name="l00011"></a><span class="lineno"><a class="line" href="proba_8cpp.html#a8c42136cd8fd696eea0800cd307c9f23">   11</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="proba_8cpp.html#a8c42136cd8fd696eea0800cd307c9f23">sorting</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> argc, <span class="keyword">const</span> <span class="keywordtype">char</span>* argv[]) {</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    assert(isfinite(argc));</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    assert(argv != NULL);</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160; </div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* name_in  = argv[2];</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span>* name_out = argv[3];</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160; </div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    FILE* poem = fopen(name_in, <span class="stringliteral">&quot;rb&quot;</span>);</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    <span class="keywordflow">if</span>(poem == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;        printf(<span class="stringliteral">&quot;File %s don&#39;t open\n&quot;</span>, name_in);</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="main_8h.html#a7187bae3037460a7883cad0abfeab653">error_number</a>;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    }</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; </div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <span class="keywordtype">int</span> max_length = 0, lines = 0;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <span class="keywordtype">int</span> size_buffer = <a class="code" href="proba_8cpp.html#a067bdb0a8059e848b8f1a3c144ff66cb">size_of_buffer</a>(poem);</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160; </div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="keywordtype">char</span>* buffer = (<span class="keywordtype">char</span>*)calloc(size_buffer, <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>));</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="keyword">struct </span><a class="code" href="structpointer.html">pointer</a>* index = <a class="code" href="proba_8cpp.html#a98a2a68c2cb1461d7f2c4ce29cc851ae">read_buffer</a>(poem, buffer, size_buffer, &amp;lines);</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160; </div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="keywordtype">int</span> close_file_result = fclose(poem);</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keywordflow">if</span>(close_file_result == -1) {</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        printf(<span class="stringliteral">&quot;There were problems with the file %s. Run the program again.\n&quot;</span>, name_in);</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="main_8h.html#a7187bae3037460a7883cad0abfeab653">error_number</a>;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    }</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    printf(<span class="stringliteral">&quot;lines: %d\n&quot;</span>, lines);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;lines; ++i) {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=0; j&lt;=index[i].<a class="code" href="structpointer.html#aa7322a3a33b37a0357ffbbd0bd2eb66c">len</a>; ++j) {</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;            printf(<span class="stringliteral">&quot;%c&quot;</span>, (index[i].<a class="code" href="structpointer.html#a5d84d0775af750c5f49229cf94c7e73b">ptr</a>)[j]);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        }</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    }</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keywordtype">int</span> status = <a class="code" href="proba_8cpp.html#ac596567ee590bcbf97dea337bfd247a7">write_and_sort</a>(name_in, name_out, lines, index);</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordflow">if</span>(status == <a class="code" href="main_8h.html#a7187bae3037460a7883cad0abfeab653">error_number</a>) {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        printf(<span class="stringliteral">&quot;File %s don&#39;t open\n&quot;</span>, name_in);</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    }</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    free(buffer);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordflow">return</span> status;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;}</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="proba_8cpp.html#a067bdb0a8059e848b8f1a3c144ff66cb">   52</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="proba_8cpp.html#a067bdb0a8059e848b8f1a3c144ff66cb">size_of_buffer</a>(FILE* file) {</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordtype">int</span> size_buffer = 0;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordflow">if</span>(!fseek(file, 0, SEEK_END)) {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        size_buffer = ftell(file);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    }</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    ++size_buffer;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    fseek(file, 0, SEEK_SET);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">return</span> size_buffer;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;}</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="proba_8cpp.html#a98a2a68c2cb1461d7f2c4ce29cc851ae">   63</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structpointer.html">pointer</a>* <a class="code" href="proba_8cpp.html#a98a2a68c2cb1461d7f2c4ce29cc851ae">read_buffer</a>(FILE* file, <span class="keywordtype">char</span>* buffer, <span class="keywordtype">int</span> size_buffer, <span class="keywordtype">int</span>* lines) {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordtype">int</span> status = fread(buffer, <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>), size_buffer, file);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    *lines = <a class="code" href="proba_8cpp.html#a57f0157668adf51f44c638b51b8209c1">number_of_lines</a>(buffer, <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keyword">struct </span><a class="code" href="structpointer.html">pointer</a>* index = (<span class="keyword">struct </span><a class="code" href="structpointer.html">pointer</a>*)calloc(*lines, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structpointer.html">pointer</a>));</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <a class="code" href="proba_8cpp.html#a931dd429df67f12627a238a616085856">initialization</a>(buffer, index, *lines);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160; </div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">return</span> index;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;}</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="proba_8cpp.html#a57f0157668adf51f44c638b51b8209c1">   74</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="proba_8cpp.html#a57f0157668adf51f44c638b51b8209c1">number_of_lines</a>(<span class="keywordtype">char</span>* buffer, <span class="keywordtype">char</span> separator) {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    assert(buffer != NULL);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordtype">int</span> lines = 0;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordflow">while</span>(*buffer != <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="keywordflow">if</span>(*buffer == separator) {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            ++lines;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        }</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        ++buffer;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    }</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordflow">return</span> lines;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;}</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="proba_8cpp.html#a931dd429df67f12627a238a616085856">   88</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="proba_8cpp.html#a931dd429df67f12627a238a616085856">initialization</a>(<span class="keywordtype">char</span>* buffer, <span class="keyword">struct</span> <a class="code" href="structpointer.html">pointer</a>* index, <span class="keyword">const</span> <span class="keywordtype">int</span> lines) {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    assert(isfinite(lines));</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    assert(index  != NULL);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    assert(buffer != NULL);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160; </div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordtype">int</span> now_length = 0, now_line = 0;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160; </div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    (*index).ptr = buffer;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordtype">char</span> now_symbol = *buffer;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">while</span>(now_symbol != <span class="charliteral">&#39;\0&#39;</span>) {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        now_symbol = *buffer;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="keywordflow">if</span>(now_symbol == <span class="charliteral">&#39;\n&#39;</span>) {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            ++index;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            ++now_line;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            ++buffer;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            (*(index - 1)).<a class="code" href="structpointer.html#aa7322a3a33b37a0357ffbbd0bd2eb66c">len</a> = now_length + 1;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            (*index).pos = now_line;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            (*index).ptr = buffer;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160; </div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            now_length = 0;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            ++now_length;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            ++buffer;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        }</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    }</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;}</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;<span class="comment">/*void fill_index_array(FILE* file, struct pointer* index, int lines, int max_length, char separator) {</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="comment">    assert(isfinite(lines));</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment">    assert(file  != NULL);</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">    assert(index != NULL);</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">    char** text = (char**)calloc(lines + 1, sizeof(char*));</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="comment">    for(int i=0; i&lt;lines; ++i) {</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="comment">        text[i] = (char*)calloc(max_length + 3, sizeof(char));</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="comment">    }</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;<span class="comment">    for(int line=0; line&lt;lines; ++line) {</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="comment">        int i = 0;</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment">        char symbol = &#39;!&#39;;</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">        if(separator == &#39;!&#39;) {</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">            symbol = &#39;@&#39;;</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">        }</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">        while(symbol != separator) {</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">            fscanf(file, &quot;%c&quot;, &amp;symbol);</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">            text[line][i] = symbol;</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">            ++i;</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">        }</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">        strcpy(index[line].ptr, text[line]);</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">        index[line].len = i;</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">        index[line].pos = line;</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">    }</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">    for(int i=0; i&lt;lines; ++i) {</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">        free(text[i]);</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">    }</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">    free(text);</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">}*/</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="proba_8cpp.html#ac596567ee590bcbf97dea337bfd247a7">  150</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="proba_8cpp.html#ac596567ee590bcbf97dea337bfd247a7">write_and_sort</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* name_in, <span class="keyword">const</span> <span class="keywordtype">char</span>* name_out, <span class="keywordtype">int</span> lines, <span class="keyword">struct</span> <a class="code" href="structpointer.html">pointer</a>* index) {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    assert(isfinite(lines));</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    assert(name_in  != NULL);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    assert(name_out != NULL);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    assert(index    != NULL);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    printf(<span class="stringliteral">&quot;name_out: %s\n&quot;</span>, name_out);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    FILE* file_result = fopen(name_out, <span class="stringliteral">&quot;wb&quot;</span>);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">if</span>(file_result == <span class="keyword">nullptr</span>) {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        printf(<span class="stringliteral">&quot;klsdjfbjhkagsjidlkoxnbkhsjvbnjk\n&quot;</span>);</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="main_8h.html#a7187bae3037460a7883cad0abfeab653">error_number</a>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    }</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="comment">//fprintf(file_result, &quot;!!!&quot;);</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    printf(<span class="stringliteral">&quot;hop-hey-lalaley\n&quot;</span>);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordtype">int</span> number_of_out = 1;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160; </div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <a class="code" href="proba_8cpp.html#a6dff55160b6f3f5c03d7f083baad8942">my_qsort</a>(lines, index, <a class="code" href="proba_8cpp.html#a5ea5a48371a0344c0158fe5f8b088c3b">strcmp_forward</a>);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    printf(<span class="stringliteral">&quot;!!!!!!!\n&quot;</span>);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <a class="code" href="Shakespeare_8txt.html#ab153cf584930e208da69eddd05481beb">sleep</a>(1);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <a class="code" href="proba_8cpp.html#a4b763c36c18bdea741096b5f999937ec">print_array</a>(file_result, index, lines, &amp;number_of_out);</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    printf(<span class="stringliteral">&quot;!!!!!!!\n&quot;</span>);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="Shakespeare_8txt.html#ab153cf584930e208da69eddd05481beb">sleep</a>(1);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    qsort(index, lines, <span class="keyword">sizeof</span>(index[0]), <a class="code" href="proba_8cpp.html#a838142ab68aa363ac3bd206687839552">comparator_struct_ptr</a>);</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <a class="code" href="proba_8cpp.html#a4b763c36c18bdea741096b5f999937ec">print_array</a>(file_result, index, lines, &amp;number_of_out);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    qsort(index, lines, <span class="keyword">sizeof</span>(index[0]), <a class="code" href="proba_8cpp.html#a370be717e4deee47ee8e559f3fa6511f">comparator_struct_pos</a>);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <a class="code" href="proba_8cpp.html#a4b763c36c18bdea741096b5f999937ec">print_array</a>(file_result, index, lines, &amp;number_of_out);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    fclose(file_result);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;}</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160; </div>
<div class="line"><a name="l00185"></a><span class="lineno"><a class="line" href="proba_8cpp.html#a6dff55160b6f3f5c03d7f083baad8942">  185</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="proba_8cpp.html#a6dff55160b6f3f5c03d7f083baad8942">my_qsort</a>(<span class="keywordtype">int</span> <a class="code" href="structpointer.html#aa7322a3a33b37a0357ffbbd0bd2eb66c">len</a>, <span class="keyword">struct</span> <a class="code" href="structpointer.html">pointer</a>* index, <span class="keywordtype">int</span> (*compare)(<span class="keywordtype">char</span>*, <span class="keywordtype">char</span>*, <span class="keywordtype">int</span>, <span class="keywordtype">int</span>)) {</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    assert(isfinite(<a class="code" href="structpointer.html#aa7322a3a33b37a0357ffbbd0bd2eb66c">len</a>));</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    assert(index != NULL);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;<a class="code" href="structpointer.html#aa7322a3a33b37a0357ffbbd0bd2eb66c">len</a>; ++i) {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keywordtype">int</span> min_ind = i;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keywordflow">for</span>(<span class="keywordtype">int</span> j=i+1; j&lt;<a class="code" href="structpointer.html#aa7322a3a33b37a0357ffbbd0bd2eb66c">len</a>; ++j) {</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            <span class="keywordflow">if</span>((*compare)(index[min_ind].<a class="code" href="structpointer.html#a5d84d0775af750c5f49229cf94c7e73b">ptr</a>, index[j].<a class="code" href="structpointer.html#a5d84d0775af750c5f49229cf94c7e73b">ptr</a>, index[min_ind].<a class="code" href="structpointer.html#aa7322a3a33b37a0357ffbbd0bd2eb66c">len</a>, index[j].<a class="code" href="structpointer.html#aa7322a3a33b37a0357ffbbd0bd2eb66c">len</a>) &gt; 0) {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                min_ind = j;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            }</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="keyword">struct </span><a class="code" href="structpointer.html">pointer</a> temp = index[i];</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        index[i] = index[min_ind];</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        index[min_ind] = temp;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;}</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160; </div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="proba_8cpp.html#a5ea5a48371a0344c0158fe5f8b088c3b">  202</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="proba_8cpp.html#a5ea5a48371a0344c0158fe5f8b088c3b">strcmp_forward</a>(<span class="keywordtype">char</span>* str1, <span class="keywordtype">char</span>* str2, <span class="keywordtype">int</span> len1, <span class="keywordtype">int</span> len2) {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    assert(isfinite(len1));</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    assert(isfinite(len2));</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    assert(str1 != NULL);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    assert(str2 != NULL);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">while</span>(*(str1 + 1) != <span class="charliteral">&#39;\n&#39;</span> &amp;&amp; !<a class="code" href="proba_8cpp.html#ae477ee503e23d46b407d0cd634807216">is_alpha_EN</a>(*str1)) {</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        str1++;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    }</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">while</span>(*(str2 + 1) != <span class="charliteral">&#39;\n&#39;</span> &amp;&amp; !<a class="code" href="proba_8cpp.html#ae477ee503e23d46b407d0cd634807216">is_alpha_EN</a>(*str2)) {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        str2++;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    }</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160; </div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">while</span>(*(str1 + 1) != <span class="charliteral">&#39;\n&#39;</span> &amp;&amp; *(str2 + 1) != <span class="charliteral">&#39;\n&#39;</span> &amp;&amp; *str1 == *str2) {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <span class="keywordflow">while</span>(*(str1 + 1) != <span class="charliteral">&#39;\n&#39;</span> &amp;&amp; !<a class="code" href="proba_8cpp.html#ae477ee503e23d46b407d0cd634807216">is_alpha_EN</a>(*str1)) {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            str1++;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <span class="keywordflow">while</span>(*(str2 + 1) != <span class="charliteral">&#39;\n&#39;</span> &amp;&amp; !<a class="code" href="proba_8cpp.html#ae477ee503e23d46b407d0cd634807216">is_alpha_EN</a>(*str2)) {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            str2++;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        }</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="keywordflow">if</span>(*str1 != *str2) {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        }</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        str1++;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        str2++;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    }</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <span class="keywordflow">if</span>(*str1 == *str2) {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <span class="keywordflow">if</span>(*(str1 + 1) == <span class="charliteral">&#39;\n&#39;</span> &amp;&amp; *(str2 + 1) == <span class="charliteral">&#39;\n&#39;</span>) {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(*(str1 + 1) == <span class="charliteral">&#39;\n&#39;</span>) {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        }</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160; </div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordflow">return</span> *str1 - *str2;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;}</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160; </div>
<div class="line"><a name="l00244"></a><span class="lineno"><a class="line" href="proba_8cpp.html#ae477ee503e23d46b407d0cd634807216">  244</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="proba_8cpp.html#ae477ee503e23d46b407d0cd634807216">is_alpha_EN</a>(<span class="keywordtype">char</span> symbol) {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="keywordflow">return</span> (<span class="charliteral">&#39;a&#39;</span> &lt;= symbol &amp;&amp; symbol &lt;= <span class="charliteral">&#39;z&#39;</span> || <span class="charliteral">&#39;A&#39;</span> &lt;= symbol &amp;&amp; symbol &lt;= <span class="charliteral">&#39;Z&#39;</span>);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;}</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160; </div>
<div class="line"><a name="l00248"></a><span class="lineno"><a class="line" href="proba_8cpp.html#a4b763c36c18bdea741096b5f999937ec">  248</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="proba_8cpp.html#a4b763c36c18bdea741096b5f999937ec">print_array</a>(FILE* file, <span class="keyword">const</span> <span class="keyword">struct</span> <a class="code" href="structpointer.html">pointer</a>* index, <span class="keyword">const</span> <span class="keywordtype">int</span> lines, <span class="keywordtype">int</span>* number_of_out) {</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    assert(isfinite(lines));</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    assert(file          != NULL);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    assert(index         != NULL);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    assert(number_of_out != NULL);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    printf(<span class="stringliteral">&quot;pr_ar: %d\n&quot;</span>, lines);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    printf(<span class="stringliteral">&quot;%d\n&quot;</span>, *number_of_out);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160; </div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordtype">char</span> check[] = { <span class="charliteral">&#39;w&#39;</span> , <span class="charliteral">&#39;t&#39;</span> , <span class="charliteral">&#39;f&#39;</span> };</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160; </div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="comment">//fwrite(check , 1 , sizeof(check) , file ); // записать в файл содержимое буфера</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="comment">//fputc()</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    printf(<span class="stringliteral">&quot;okay........\n&quot;</span>);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="comment">//fwrite(index, sizeof(index[0]), sizeof(index), file);</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="comment">//fprintf(file, &quot;@&quot;);</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    fputs(<span class="stringliteral">&quot;-------------------------------------- BEGIN DO PART %d ---------------------------------------\n&quot;</span>, file); <span class="comment">// *number_of_out);</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="comment">/*for (int i=0; i&lt;lines; ++i) {</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">        for(int j=0; j&lt;=index[i].len; ++j) {</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;<span class="comment">            fprintf(file, &quot;%c&quot;, (index[i].ptr)[j]);</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;<span class="comment">        }</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<span class="comment">    }*/</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="comment">//fprintf(file, &quot;--------------------------------------- END DO PART %d ----------------------------------------\n\n&quot;, *number_of_out);</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    (*number_of_out)++;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;}</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160; </div>
<div class="line"><a name="l00275"></a><span class="lineno"><a class="line" href="proba_8cpp.html#a838142ab68aa363ac3bd206687839552">  275</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="proba_8cpp.html#a838142ab68aa363ac3bd206687839552">comparator_struct_ptr</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>* <a class="code" href="Shakespeare_8txt.html#a9be49135c74a9b7646f5a5912a507c67">first</a>, <span class="keyword">const</span> <span class="keywordtype">void</span>* second) {</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keyword">struct </span><a class="code" href="structpointer.html">pointer</a> first_struct  = *(<span class="keyword">struct </span><a class="code" href="structpointer.html">pointer</a>*)<a class="code" href="Shakespeare_8txt.html#a9be49135c74a9b7646f5a5912a507c67">first</a>;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keyword">struct </span><a class="code" href="structpointer.html">pointer</a> second_struct = *(<span class="keyword">struct </span><a class="code" href="structpointer.html">pointer</a>*)second;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="proba_8cpp.html#a6ba26bda174677f10998727a674ab8a0">strcmp_reverse</a>(first_struct.<a class="code" href="structpointer.html#a5d84d0775af750c5f49229cf94c7e73b">ptr</a>, second_struct.<a class="code" href="structpointer.html#a5d84d0775af750c5f49229cf94c7e73b">ptr</a>, first_struct.<a class="code" href="structpointer.html#aa7322a3a33b37a0357ffbbd0bd2eb66c">len</a>, second_struct.<a class="code" href="structpointer.html#aa7322a3a33b37a0357ffbbd0bd2eb66c">len</a>);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;}</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno"><a class="line" href="proba_8cpp.html#a6ba26bda174677f10998727a674ab8a0">  282</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="proba_8cpp.html#a6ba26bda174677f10998727a674ab8a0">strcmp_reverse</a>(<span class="keywordtype">char</span>* str1, <span class="keywordtype">char</span>* str2, <span class="keywordtype">int</span> len1, <span class="keywordtype">int</span> len2) {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    assert(isfinite(len1));</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    assert(isfinite(len2));</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    assert(str1 != NULL);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    assert(str2 != NULL);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    str1 += len1 - 1;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    str2 += len2 - 1;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    <span class="keywordtype">int</span> pos1 = len1 - 1;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keywordtype">int</span> pos2 = len2 - 1;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordflow">while</span>(pos1 - 1 &gt;= 0 &amp;&amp; !<a class="code" href="proba_8cpp.html#ae477ee503e23d46b407d0cd634807216">is_alpha_EN</a>(*str1)) { str1--, pos1--; }</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">while</span>(pos2 - 1 &gt;= 0 &amp;&amp; !<a class="code" href="proba_8cpp.html#ae477ee503e23d46b407d0cd634807216">is_alpha_EN</a>(*str2)) { str2--; pos2--; }</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160; </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordflow">while</span>(pos1 - 1 &gt;= 0 &amp;&amp; pos2 - 1 &gt;= 0 &amp;&amp; *str1 == *str2) {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keywordflow">while</span>(pos1 - 1 &gt;= 0 &amp;&amp; !<a class="code" href="proba_8cpp.html#ae477ee503e23d46b407d0cd634807216">is_alpha_EN</a>(*str1)) { str1--; pos1--; }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="keywordflow">while</span>(pos2 - 1 &gt;= 0 &amp;&amp; !<a class="code" href="proba_8cpp.html#ae477ee503e23d46b407d0cd634807216">is_alpha_EN</a>(*str2)) { str2--; pos2--; }</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="keywordflow">if</span>(*str1 != *str2) {</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        str1--, pos1--;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        str2--, pos2--;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordflow">if</span>(*str1 == *str2) {</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        <span class="keywordflow">if</span>(pos1 - 1 &gt;= 0 &amp;&amp; pos2 - 1 &gt;= 0 || pos1 == pos2 &amp;&amp; pos1 == 0) {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(pos1 - 1 &gt;= 0) {</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        }</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    }</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">return</span> *str1 - *str2;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;}</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160; </div>
<div class="line"><a name="l00320"></a><span class="lineno"><a class="line" href="proba_8cpp.html#a370be717e4deee47ee8e559f3fa6511f">  320</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="proba_8cpp.html#a370be717e4deee47ee8e559f3fa6511f">comparator_struct_pos</a>(<span class="keyword">const</span> <span class="keywordtype">void</span>* <a class="code" href="Shakespeare_8txt.html#a9be49135c74a9b7646f5a5912a507c67">first</a>, <span class="keyword">const</span> <span class="keywordtype">void</span>* second) {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    assert(<a class="code" href="Shakespeare_8txt.html#a9be49135c74a9b7646f5a5912a507c67">first</a>  != NULL);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    assert(second != NULL);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160; </div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keyword">struct </span><a class="code" href="structpointer.html">pointer</a>* first_number  = (<span class="keyword">struct </span><a class="code" href="structpointer.html">pointer</a>*)<a class="code" href="Shakespeare_8txt.html#a9be49135c74a9b7646f5a5912a507c67">first</a>;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keyword">struct </span><a class="code" href="structpointer.html">pointer</a>* second_number = (<span class="keyword">struct </span><a class="code" href="structpointer.html">pointer</a>*)second;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordflow">return</span> (*first_number).pos - (*second_number).pos;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;}</div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="aproba_8cpp_html_a370be717e4deee47ee8e559f3fa6511f"><div class="ttname"><a href="proba_8cpp.html#a370be717e4deee47ee8e559f3fa6511f">comparator_struct_pos</a></div><div class="ttdeci">int comparator_struct_pos(const void *first, const void *second)</div><div class="ttdoc">This function compares two indices of strings which are structure fields.</div><div class="ttdef"><b>Definition:</b> <a href="proba_8cpp_source.html#l00320">proba.cpp:320</a></div></div>
<div class="ttc" id="aShakespeare_8txt_html_ab153cf584930e208da69eddd05481beb"><div class="ttname"><a href="Shakespeare_8txt.html#ab153cf584930e208da69eddd05481beb">sleep</a></div><div class="ttdeci">But his own affections Is to himself I will not say how true But to himself so secret and so So far from sounding and As is the bud bit with an envious worm Ere he can spread his sweet leaves to the air Or dedicate his beauty to the sun Could we but learn from whence his sorrows We would as willingly give cure as know Enter ROMEO Ben where he comes So please you step I ll know his or be much denied Mont I would thou wert so happy by thy stay To hear true shrift let s away[Exeunt MONTAGUE and LADY MONTAGUE] Ben Good cousin Romeo Is the day so young Ben But new struck nine Romeo Ay me ! sad hours seem long Was that my father that went hence so fast Ben It was What sadness lengthens Romeo s hours Romeo Not having that which having makes them short Ben In love Romeo Out Ben Of love Romeo Out of her favour where I am in love Ben Alas that so gentle in his Should be so tyrannous and rough in proof ! Romeo Alas that whose view is muffled Should without eyes see pathways to his will ! Where shall we dine O me ! What fray was here Yet tell me for I have heard it all Here s much to do with but more with love Why O brawling love ! O loving hate ! O of nothing first create ! O heavy lightness ! serious vanity ! Misshapen chaos of well seeming forms ! Feather of bright cold sick health ! Still waking sleep</div><div class="ttdef"><b>Definition:</b> <a href="Shakespeare_8txt_source.html#l00239">Shakespeare.txt:239</a></div></div>
<div class="ttc" id="aproba_8cpp_html_a98a2a68c2cb1461d7f2c4ce29cc851ae"><div class="ttname"><a href="proba_8cpp.html#a98a2a68c2cb1461d7f2c4ce29cc851ae">read_buffer</a></div><div class="ttdeci">struct pointer * read_buffer(FILE *file, char *buffer, int size_buffer, int *lines)</div><div class="ttdef"><b>Definition:</b> <a href="proba_8cpp_source.html#l00063">proba.cpp:63</a></div></div>
<div class="ttc" id="amain_8h_html_a7187bae3037460a7883cad0abfeab653"><div class="ttname"><a href="main_8h.html#a7187bae3037460a7883cad0abfeab653">error_number</a></div><div class="ttdeci">const int error_number</div><div class="ttdef"><b>Definition:</b> <a href="main_8h_source.html#l00001">main.h:1</a></div></div>
<div class="ttc" id="aproba_8cpp_html_a931dd429df67f12627a238a616085856"><div class="ttname"><a href="proba_8cpp.html#a931dd429df67f12627a238a616085856">initialization</a></div><div class="ttdeci">void initialization(char *buffer, struct pointer *index, const int lines)</div><div class="ttdef"><b>Definition:</b> <a href="proba_8cpp_source.html#l00088">proba.cpp:88</a></div></div>
<div class="ttc" id="astructpointer_html_a5d84d0775af750c5f49229cf94c7e73b"><div class="ttname"><a href="structpointer.html#a5d84d0775af750c5f49229cf94c7e73b">pointer::ptr</a></div><div class="ttdeci">char * ptr</div><div class="ttdef"><b>Definition:</b> <a href="Onegin_8h_source.html#l00003">Onegin.h:3</a></div></div>
<div class="ttc" id="aproba_8cpp_html_a6ba26bda174677f10998727a674ab8a0"><div class="ttname"><a href="proba_8cpp.html#a6ba26bda174677f10998727a674ab8a0">strcmp_reverse</a></div><div class="ttdeci">int strcmp_reverse(char *str1, char *str2, int len1, int len2)</div><div class="ttdoc">This function contains string comparison rules (sort by last character)</div><div class="ttdef"><b>Definition:</b> <a href="proba_8cpp_source.html#l00282">proba.cpp:282</a></div></div>
<div class="ttc" id="astructpointer_html"><div class="ttname"><a href="structpointer.html">pointer</a></div><div class="ttdef"><b>Definition:</b> <a href="Onegin_8h_source.html#l00002">Onegin.h:2</a></div></div>
<div class="ttc" id="atesting_8h_html"><div class="ttname"><a href="testing_8h.html">testing.h</a></div></div>
<div class="ttc" id="aproba_8cpp_html_ae477ee503e23d46b407d0cd634807216"><div class="ttname"><a href="proba_8cpp.html#ae477ee503e23d46b407d0cd634807216">is_alpha_EN</a></div><div class="ttdeci">bool is_alpha_EN(char symbol)</div><div class="ttdef"><b>Definition:</b> <a href="proba_8cpp_source.html#l00244">proba.cpp:244</a></div></div>
<div class="ttc" id="astructpointer_html_aa7322a3a33b37a0357ffbbd0bd2eb66c"><div class="ttname"><a href="structpointer.html#aa7322a3a33b37a0357ffbbd0bd2eb66c">pointer::len</a></div><div class="ttdeci">int len</div><div class="ttdef"><b>Definition:</b> <a href="Onegin_8h_source.html#l00004">Onegin.h:4</a></div></div>
<div class="ttc" id="aproba_8cpp_html_a5ea5a48371a0344c0158fe5f8b088c3b"><div class="ttname"><a href="proba_8cpp.html#a5ea5a48371a0344c0158fe5f8b088c3b">strcmp_forward</a></div><div class="ttdeci">int strcmp_forward(char *str1, char *str2, int len1, int len2)</div><div class="ttdoc">This function contains string comparison rules (sort by first character)</div><div class="ttdef"><b>Definition:</b> <a href="proba_8cpp_source.html#l00202">proba.cpp:202</a></div></div>
<div class="ttc" id="aproba_8cpp_html_a067bdb0a8059e848b8f1a3c144ff66cb"><div class="ttname"><a href="proba_8cpp.html#a067bdb0a8059e848b8f1a3c144ff66cb">size_of_buffer</a></div><div class="ttdeci">int size_of_buffer(FILE *file)</div><div class="ttdef"><b>Definition:</b> <a href="proba_8cpp_source.html#l00052">proba.cpp:52</a></div></div>
<div class="ttc" id="aproba_8cpp_html_a4b763c36c18bdea741096b5f999937ec"><div class="ttname"><a href="proba_8cpp.html#a4b763c36c18bdea741096b5f999937ec">print_array</a></div><div class="ttdeci">void print_array(FILE *file, const struct pointer *index, const int lines, int *number_of_out)</div><div class="ttdoc">This function fills the index array with data from the file.</div><div class="ttdef"><b>Definition:</b> <a href="proba_8cpp_source.html#l00248">proba.cpp:248</a></div></div>
<div class="ttc" id="aproba_8cpp_html_a838142ab68aa363ac3bd206687839552"><div class="ttname"><a href="proba_8cpp.html#a838142ab68aa363ac3bd206687839552">comparator_struct_ptr</a></div><div class="ttdeci">int comparator_struct_ptr(const void *first, const void *second)</div><div class="ttdoc">This function compares two strings which are structure fields.</div><div class="ttdef"><b>Definition:</b> <a href="proba_8cpp_source.html#l00275">proba.cpp:275</a></div></div>
<div class="ttc" id="aOnegin_8h_html"><div class="ttname"><a href="Onegin_8h.html">Onegin.h</a></div></div>
<div class="ttc" id="aproba_8cpp_html_a8c42136cd8fd696eea0800cd307c9f23"><div class="ttname"><a href="proba_8cpp.html#a8c42136cd8fd696eea0800cd307c9f23">sorting</a></div><div class="ttdeci">int sorting(const int argc, const char *argv[])</div><div class="ttdoc">This function opens files and starts functions number_of_lines, initialization, make_index_array and ...</div><div class="ttdef"><b>Definition:</b> <a href="proba_8cpp_source.html#l00011">proba.cpp:11</a></div></div>
<div class="ttc" id="aShakespeare_8txt_html_a9be49135c74a9b7646f5a5912a507c67"><div class="ttname"><a href="Shakespeare_8txt.html#a9be49135c74a9b7646f5a5912a507c67">first</a></div><div class="ttdeci">Or if he it needs must be by stealth since the case so stands as now it I think it best you married with the County he s a lovely gentleman ! Romeo s a dishclout to him An Hath not so so so fair an eye As Paris hath Beshrew my very I think you are happy in this second For it excels your first</div><div class="ttdef"><b>Definition:</b> <a href="Shakespeare_8txt_source.html#l02362">Shakespeare.txt:2362</a></div></div>
<div class="ttc" id="aproba_8cpp_html_a6dff55160b6f3f5c03d7f083baad8942"><div class="ttname"><a href="proba_8cpp.html#a6dff55160b6f3f5c03d7f083baad8942">my_qsort</a></div><div class="ttdeci">void my_qsort(int len, struct pointer *index, int(*compare)(char *, char *, int, int))</div><div class="ttdoc">This function sorts text.</div><div class="ttdef"><b>Definition:</b> <a href="proba_8cpp_source.html#l00185">proba.cpp:185</a></div></div>
<div class="ttc" id="aproba_8cpp_html_a57f0157668adf51f44c638b51b8209c1"><div class="ttname"><a href="proba_8cpp.html#a57f0157668adf51f44c638b51b8209c1">number_of_lines</a></div><div class="ttdeci">int number_of_lines(char *buffer, char separator)</div><div class="ttdef"><b>Definition:</b> <a href="proba_8cpp_source.html#l00074">proba.cpp:74</a></div></div>
<div class="ttc" id="aproba_8cpp_html_ac596567ee590bcbf97dea337bfd247a7"><div class="ttname"><a href="proba_8cpp.html#ac596567ee590bcbf97dea337bfd247a7">write_and_sort</a></div><div class="ttdeci">int write_and_sort(const char *name_in, const char *name_out, int lines, struct pointer *index)</div><div class="ttdef"><b>Definition:</b> <a href="proba_8cpp_source.html#l00150">proba.cpp:150</a></div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="proba_8cpp.html">proba.cpp</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
